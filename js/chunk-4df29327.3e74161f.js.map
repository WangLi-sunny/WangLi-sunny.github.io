{"version":3,"sources":["webpack:///./src/views/Details.vue?7947","webpack:///./src/components/CommentItem.vue?35f4","webpack:///./src/views/Details.vue?9c78","webpack:///./src/components/Comment.vue?9964","webpack:///./src/components/CommentItem.vue?2b71","webpack:///src/components/CommentItem.vue","webpack:///./src/components/CommentItem.vue?d334","webpack:///./src/components/CommentItem.vue","webpack:///src/components/Comment.vue","webpack:///./src/components/Comment.vue?2d5b","webpack:///./src/components/Comment.vue","webpack:///src/views/Details.vue","webpack:///./src/views/Details.vue?0181","webpack:///./src/views/Details.vue","webpack:///./src/components/Comment.vue?ddbe"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","directives","name","rawName","value","details","top","good","expression","_v","_s","title","is_collect","attrs","on","$event","de_collect","id","collect","_e","_f","create_at","author","loginname","reply_count","tab","info","author_id","edit","del","domProps","content","proxy","staticRenderFns","_l","item","index","model","callback","$$v","markValue","replays","params","avatar_url","class","is_uped","changeUped","ups","length","props","methods","window","localStorage","getItem","changeUp","$message","error","component","components","data","replay","computed","created","console","log","getDetails","$router","push"],"mappings":"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","file":"js/chunk-4df29327.3e74161f.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details\"},[(_vm.details)?_c('div',{staticClass:\"deta\"},[_c('Panel',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"title\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.details.top || _vm.details.good),expression:\"details.top || details.good\"}],staticClass:\"top\"},[_vm._v(_vm._s(_vm.details.top ? \"置顶\" : \"精华\"))]),_c('h2',[_vm._v(_vm._s(_vm.details.title))]),(_vm.info)?_c('div',{staticClass:\"sc\"},[(!_vm.details.is_collect)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.collect(_vm.details.id)}}},[_vm._v(\"收藏\")]):_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.de_collect(_vm.details.id)}}},[_vm._v(\"取消收藏\")])],1):_vm._e()]),_c('div',{staticClass:\"infor\"},[_c('span',[_vm._v(\"发布于\"+_vm._s(_vm._f(\"moment\")(_vm.details.create_at,\"from\", \"now\"))+\"年前\")]),_c('span',[_vm._v(\"作者\"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.details.author.loginname))])]),_c('span',[_vm._v(_vm._s(_vm.details.reply_count)+\"次浏览\")]),_c('span',[_vm._v(\"来自\"+_vm._s(_vm._f(\"transformTab\")(_vm.details.tab)))])]),(_vm.info && _vm.details.author_id === _vm.info.id)?_c('div',{staticClass:\"edit\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.edit}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.del}})],1):_vm._e(),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.details.content)}})]},proxy:true}],null,false,1649296542)}),(_vm.details.reply_count)?_c('Comment'):_vm._e()],1):_c('el-skeleton',{attrs:{\"rows\":6,\"animated\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('Panel',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.details.reply_count)+\"回复\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',_vm._l((_vm.details.replies),function(item,index){return _c('CommentItem',{key:item.key,attrs:{\"item\":item,\"index\":index}})}),1)]},proxy:true}])}),(_vm.info)?_c('Panel',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',[_vm._v(\"添加回复\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('mavon-editor',{attrs:{\"subfield\":false,\"autofocus\":false},model:{value:(_vm.markValue),callback:function ($$v) {_vm.markValue=$$v},expression:\"markValue\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.replays}},[_vm._v(\"回复\")])]},proxy:true}],null,false,2303709980)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\"},[_c('div',{staticClass:\"infors\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { loginname: _vm.item.author.loginname } }}},[_c('img',{attrs:{\"src\":_vm.item.author.avatar_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"con\",attrs:{\"id\":_vm.item.id}},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.item.author.loginname))]),_c('a',{staticClass:\"times\",attrs:{\"href\":(\"#\" + (_vm.item.id))}},[_vm._v(_vm._s(_vm.index + 1)+\"楼\"+_vm._s(_vm._f(\"moment\")(_vm.item.create_at,\"from\", \"now\"))+\"年前\")]),_c('div',{staticClass:\"contents\",domProps:{\"innerHTML\":_vm._s(_vm.item.content)}})])],1),_c('div',{staticClass:\"zan\"},[_c('i',{staticClass:\"iconfont\",class:_vm.item.is_uped ? 'icon-dianzan' : 'icon-zan',on:{\"click\":_vm.changeUped}}),_c('span',[_vm._v(_vm._s(_vm.item.ups.length))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-item\">\r\n    <div class=\"infors\">\r\n      <router-link\r\n        :to=\"{ name: 'user', params: { loginname: item.author.loginname } }\"\r\n      >\r\n        <img :src=\"item.author.avatar_url\" alt=\"\" />\r\n      </router-link>\r\n      <div class=\"con\" :id=\"item.id\">\r\n        <a href=\"#\">{{ item.author.loginname }}</a>\r\n        <a :href=\"`#${item.id}`\" class=\"times\"\r\n          >{{ index + 1 }}楼{{ item.create_at | moment(\"from\", \"now\") }}年前</a\r\n        >\r\n        <div class=\"contents\" v-html=\"item.content\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"zan\">\r\n      <i\r\n        class=\"iconfont\"\r\n        :class=\"item.is_uped ? 'icon-dianzan' : 'icon-zan'\"\r\n        @click=\"changeUped\"\r\n      ></i>\r\n      <span>{{ item.ups.length }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nexport default {\r\n  props: [\"item\", \"index\"],\r\n  methods: {\r\n    changeUped() {\r\n      if (window.localStorage.getItem(\"token\")) {\r\n        this.changeUp(this.item.id);\r\n      } else {\r\n        this.$message.error(\"请登录\");\r\n      }\r\n    },\r\n    ...mapActions([\"changeUp\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.comment-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-top: 1px solid #ccc;\r\n  padding: 8px;\r\n  .infors {\r\n    display: flex;\r\n    img {\r\n      width: 30px;\r\n      height: 30px;\r\n      border-radius: 3px;\r\n      margin-right: 8px;\r\n    }\r\n    .con {\r\n      a {\r\n        color: #666;\r\n        font-size: 12px;\r\n        margin-right: 5px;\r\n      }\r\n      .times {\r\n        color: #08c;\r\n        font-size: 11px;\r\n      }\r\n    }\r\n  }\r\n  .zan {\r\n    i {\r\n      cursor: pointer;\r\n      margin-right: 8px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=2b21d4c8&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comment\">\r\n    <Panel>\r\n      <template #header>\r\n        <span>{{ details.reply_count }}回复</span>\r\n      </template>\r\n      <template #content>\r\n        <div>\r\n          <CommentItem\r\n            v-for=\"(item, index) in details.replies\"\r\n            :key=\"item.key\"\r\n            :item=\"item\"\r\n            :index=\"index\"\r\n          />\r\n        </div>\r\n      </template>\r\n    </Panel>\r\n    <Panel v-if=\"info\">\r\n      <template #header>\r\n        <span>添加回复</span>\r\n      </template>\r\n      <template #content>\r\n        <mavon-editor\r\n          v-model=\"markValue\"\r\n          :subfield=\"false\"\r\n          :autofocus=\"false\"\r\n        />\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"replays\">回复</el-button>\r\n      </template>\r\n    </Panel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../containers/Panel.vue\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport CommentItem from \"./CommentItem.vue\";\r\nexport default {\r\n  components: { Panel, CommentItem },\r\n  data() {\r\n    return {\r\n      markValue: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    replays() {\r\n      this.replay({ id: this.details.id, content: this.markValue });\r\n    },\r\n    ...mapActions([\"replay\"]),\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      details: (state) => state.details.value,\r\n      info: (state) => state.userInfor.info,\r\n    }),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.comment {\r\n  margin-top: 20px;\r\n  .el-button {\r\n    margin-top: 15px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=1354d366&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"details\">\r\n    <div class=\"deta\" v-if=\"details\">\r\n      <Panel>\r\n        <template #content>\r\n          <div class=\"title\">\r\n            <span class=\"top\" v-show=\"details.top || details.good\">{{\r\n              details.top ? \"置顶\" : \"精华\"\r\n            }}</span>\r\n            <h2>{{ details.title }}</h2>\r\n            <div class=\"sc\" v-if=\"info\">\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                v-if=\"!details.is_collect\"\r\n                @click=\"collect(details.id)\"\r\n                >收藏</el-button\r\n              >\r\n              <el-button size=\"mini\" v-else @click=\"de_collect(details.id)\"\r\n                >取消收藏</el-button\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"infor\">\r\n            <span\r\n              >发布于{{ details.create_at | moment(\"from\", \"now\") }}年前</span\r\n            >\r\n            <span\r\n              >作者<a href=\"#\">{{ details.author.loginname }}</a></span\r\n            >\r\n            <span>{{ details.reply_count }}次浏览</span>\r\n            <span>来自{{ details.tab | transformTab }}</span>\r\n          </div>\r\n          <div class=\"edit\" v-if=\"info && details.author_id === info.id\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              circle\r\n              size=\"mini\"\r\n              @click=\"edit\"\r\n            ></el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              circle\r\n              size=\"mini\"\r\n              @click=\"del\"\r\n            ></el-button>\r\n          </div>\r\n          <div class=\"content\" v-html=\"details.content\"></div>\r\n        </template>\r\n      </Panel>\r\n      <Comment v-if=\"details.reply_count\" />\r\n    </div>\r\n    <el-skeleton :rows=\"6\" animated v-else />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../containers/Panel.vue\";\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport Comment from \"../components/Comment.vue\";\r\nexport default {\r\n  props: [\"id\"],\r\n  created() {\r\n    console.log(this.id);\r\n    this.getDetails(this.id);\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      details: (state) => state.details.value,\r\n      info: (state) => state.userInfor.info,\r\n    }),\r\n  },\r\n  methods: {\r\n    async del() {\r\n      const token = window.localStorage.getItem(\"token\");\r\n      const res = await this.$axios.post(\"/topic_collect/de_collect\", {\r\n        accesstoken: token,\r\n        topic_id: this.details.id,\r\n      });\r\n      // console.log(res);\r\n      this.$router.push(\"/\");\r\n    },\r\n    edit() {\r\n      this.$router.push({\r\n        name: \"edit\",\r\n      });\r\n    },\r\n    ...mapActions([\"getDetails\", \"collect\", \"de_collect\"]),\r\n  },\r\n  components: { Panel, Comment },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.details {\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    h2 {\r\n      font-size: 22px;\r\n      font-weight: 700;\r\n      margin: 8px 0;\r\n      display: inline-block;\r\n      vertical-align: bottom;\r\n      width: 75%;\r\n      line-height: 130%;\r\n    }\r\n    .top {\r\n      display: inline-block;\r\n      width: 34px;\r\n      line-height: 18px;\r\n      font-size: 12px;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      margin-right: 8px;\r\n      flex-shrink: 0;\r\n      background-color: #1e80ff;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .infor {\r\n    font-size: 12px;\r\n    color: #838383;\r\n    margin-bottom: 8px;\r\n    span {\r\n      margin-right: 3px;\r\n      a {\r\n        color: #838383;\r\n      }\r\n      &::before {\r\n        content: \"•\";\r\n        margin-right: 3px;\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    border-top: 1px solid #ccc;\r\n  }\r\n  .markdown-text {\r\n    padding: 0 15px;\r\n    & > :first-child,\r\n    .preview > :first-child {\r\n      margin-top: 0;\r\n    }\r\n    .topic_content p {\r\n      font-size: 15px;\r\n      line-height: 1.7em;\r\n      overflow: auto;\r\n    }\r\n    .topic_content h2 {\r\n      font-size: 26px;\r\n    }\r\n    .topic_content p {\r\n      font-size: 15px;\r\n      line-height: 1.7em;\r\n      overflow: auto;\r\n    }\r\n    img {\r\n      cursor: pointer;\r\n      display: block;\r\n      margin-bottom: 10px;\r\n      max-width: 90%;\r\n    }\r\n    blockquote {\r\n      padding: 0 0 0 15px;\r\n      margin: 0 0 20px;\r\n      border-left: 5px solid #eee;\r\n    }\r\n    a {\r\n      color: #08c;\r\n    }\r\n    h2 {\r\n      font-size: 26px;\r\n      border-bottom: 1px solid #eee;\r\n    }\r\n  }\r\n  .edit {\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=1f7240c1&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}