(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4df29327"],{"0d44":function(t,e,n){},"3ed1":function(t,e,n){},5748:function(t,e,n){"use strict";n("a5c6")},9400:function(t,e,n){"use strict";n("0d44")},"9f52":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"details"},[t.details?n("div",{staticClass:"deta"},[n("Panel",{scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"title"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.details.top||t.details.good,expression:"details.top || details.good"}],staticClass:"top"},[t._v(t._s(t.details.top?"置顶":"精华"))]),n("h2",[t._v(t._s(t.details.title))]),t.info?n("div",{staticClass:"sc"},[t.details.is_collect?n("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.de_collect(t.details.id)}}},[t._v("取消收藏")]):n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.collect(t.details.id)}}},[t._v("收藏")])],1):t._e()]),n("div",{staticClass:"infor"},[n("span",[t._v("发布于"+t._s(t._f("moment")(t.details.create_at,"from","now"))+"年前")]),n("span",[t._v("作者"),n("a",{attrs:{href:"#"}},[t._v(t._s(t.details.author.loginname))])]),n("span",[t._v(t._s(t.details.reply_count)+"次浏览")]),n("span",[t._v("来自"+t._s(t._f("transformTab")(t.details.tab)))])]),t.details.author_id===t.info.id?n("div",{staticClass:"edit"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:t.edit}}),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:t.del}})],1):t._e(),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.details.content)}})]},proxy:!0}],null,!1,3126586736)}),t.details.reply_count?n("Comment"):t._e()],1):n("el-skeleton",{attrs:{rows:6,animated:""}})],1)},s=[],a=n("1da1"),o=n("5530"),c=(n("96cf"),n("f34a")),r=n("2f62"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("Panel",{scopedSlots:t._u([{key:"header",fn:function(){return[n("span",[t._v(t._s(t.details.reply_count)+"回复")])]},proxy:!0},{key:"content",fn:function(){return[n("div",t._l(t.details.replies,(function(t,e){return n("CommentItem",{key:t.key,attrs:{item:t,index:e}})})),1)]},proxy:!0}])}),t.info?n("Panel",{scopedSlots:t._u([{key:"header",fn:function(){return[n("span",[t._v("添加回复")])]},proxy:!0},{key:"content",fn:function(){return[n("mavon-editor",{attrs:{subfield:!1,autofocus:!1},model:{value:t.markValue,callback:function(e){t.markValue=e},expression:"markValue"}}),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.replays}},[t._v("回复")])]},proxy:!0}],null,!1,2303709980)}):t._e()],1)},u=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-item"},[n("div",{staticClass:"infors"},[n("router-link",{attrs:{to:{name:"user",params:{loginname:t.item.author.loginname}}}},[n("img",{attrs:{src:t.item.author.avatar_url,alt:""}})]),n("div",{staticClass:"con",attrs:{id:t.item.id}},[n("a",{attrs:{href:"#"}},[t._v(t._s(t.item.author.loginname))]),n("a",{staticClass:"times",attrs:{href:"#"+t.item.id}},[t._v(t._s(t.index+1)+"楼"+t._s(t._f("moment")(t.item.create_at,"from","now"))+"年前")]),n("div",{staticClass:"contents",domProps:{innerHTML:t._s(t.item.content)}})])],1),n("div",{staticClass:"zan"},[n("i",{staticClass:"iconfont",class:t.item.is_uped?"icon-dianzan":"icon-zan",on:{click:t.changeUped}}),n("span",[t._v(t._s(t.item.ups.length))])])])},m=[],f={props:["item","index"],methods:Object(o["a"])({changeUped:function(){window.localStorage.getItem("token")?this.changeUp(this.item.id):this.$message.error("请登录")}},Object(r["b"])(["changeUp"]))},p=f,_=(n("9400"),n("2877")),v=Object(_["a"])(p,d,m,!1,null,null,null),h=v.exports,b={components:{Panel:c["a"],CommentItem:h},data:function(){return{markValue:""}},methods:Object(o["a"])({replays:function(){this.replay({id:this.details.id,content:this.markValue})}},Object(r["b"])(["replay"])),computed:Object(o["a"])({},Object(r["d"])({details:function(t){return t.details.value},info:function(t){return t.userInfor.info}}))},k=b,y=(n("fbba"),Object(_["a"])(k,l,u,!1,null,null,null)),g=y.exports,C={props:["id"],created:function(){this.getDetails(this.id)},computed:Object(o["a"])({},Object(r["d"])({details:function(t){return t.details.value},info:function(t){return t.userInfor.info}})),methods:Object(o["a"])({del:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem("token"),e.next=3,t.$axios.post("/topic_collect/de_collect",{accesstoken:n,topic_id:t.details.id});case 3:e.sent,t.$router.push("/");case 5:case"end":return e.stop()}}),e)})))()},edit:function(){this.$router.push({name:"edit"})}},Object(r["b"])(["getDetails","collect","de_collect"])),components:{Panel:c["a"],Comment:g}},w=C,x=(n("5748"),Object(_["a"])(w,i,s,!1,null,null,null));e["default"]=x.exports},a5c6:function(t,e,n){},fbba:function(t,e,n){"use strict";n("3ed1")}}]);
//# sourceMappingURL=chunk-4df29327.73540168.js.map