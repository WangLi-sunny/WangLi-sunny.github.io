(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b8d2f78"],{2957:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"publish"},[r("Panel",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" 首页/发布 ")]},proxy:!0},{key:"content",fn:function(){return[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[r("el-form-item",{attrs:{label:"模块选择",prop:"tab"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.tab,callback:function(t){e.$set(e.form,"tab",t)},expression:"form.tab"}},[r("el-option",{attrs:{label:"分享",value:"share"}}),r("el-option",{attrs:{label:"问答",value:"ask"}}),r("el-option",{attrs:{label:"招聘",value:"job"}}),r("el-option",{attrs:{label:"客户端测试",value:"dev"}})],1)],1),r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("el-form-item",[r("mavon-editor",{staticClass:"markdown",attrs:{subfield:!1,autofocus:!1},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.publish}},[e._v("提交")])],1)],1)]},proxy:!0}])})],1)},n=[],o=r("5530"),l=r("1da1"),s=(r("96cf"),r("f34a")),i=r("2f62"),c={components:{Panel:s["a"]},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.id),e.form.tab=e.details.tab,e.form.title=e.details.title,e.form.content=e.details.content;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{form:{tab:"",title:"",content:""},rules:{tab:{required:!0,message:"请输入活动名称",trigger:"change"},title:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:6,max:30,message:"长度在6 到 30个字符",trigger:"blur"}]}}},computed:Object(o["a"])({},Object(i["d"])({details:function(e){return e.details.value}})),methods:Object(o["a"])({publish:function(){var e=this;this.$refs.form.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return a=window.localStorage.getItem("token"),t.next=4,e.$axios.post("/topics",Object(o["a"])({accesstoken:a},e.form));case 4:n=t.sent,e.$message.success("发布成功"),e.$router.push({name:"details",params:{id:n.topic_id}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},Object(i["b"])(["getDetails"]))},u=c,f=(r("9fb1"),r("2877")),m=Object(f["a"])(u,a,n,!1,null,null,null);t["default"]=m.exports},"9fb1":function(e,t,r){"use strict";r("aca3")},aca3:function(e,t,r){}}]);
//# sourceMappingURL=chunk-4b8d2f78.25a60f80.js.map